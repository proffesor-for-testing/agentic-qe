# Agentic QE v3 Agents Index
# Comprehensive hierarchical multi-agent QE coordination system
# Expanded from 6 domains/21 agents to 12 domains/47 agents

version: "3.0.0-alpha"
updated: "2026-01-07"
topology: hierarchical
totalAgents: 47
totalDomains: 12
maxConcurrentAgents: 15
memoryBackend: hybrid  # SQLite + AgentDB with HNSW

# ============================================
# COORDINATOR TIER
# ============================================
coordinator:
  description: "Queen coordinator for fleet orchestration"
  agents:
    - qe-queen-coordinator

# ============================================
# DOMAIN GROUPS (12 Bounded Contexts)
# ============================================

groups:
  # ----------------------------------------
  # 1. TEST GENERATION DOMAIN
  # ----------------------------------------
  test-generation:
    description: "AI-powered test creation and optimization"
    domain: test-generation
    migrated_from: [qe-test-generator]
    agents:
      - qe-test-architect        # Strategic test planning
      - qe-tdd-specialist        # TDD red-green-refactor
      - qe-integration-tester    # Integration test creation
      - qe-property-tester       # Property-based testing
      - qe-test-data-architect   # Test data generation (from v2)

  # ----------------------------------------
  # 2. TEST EXECUTION DOMAIN
  # ----------------------------------------
  test-execution:
    description: "Parallel execution, retries, and flaky detection"
    domain: test-execution
    migrated_from: [qe-test-executor, qe-flaky-test-hunter]
    agents:
      - qe-parallel-executor     # Distributed test execution
      - qe-flaky-hunter          # Flaky test detection
      - qe-retry-handler         # Intelligent retry logic
      - qe-execution-optimizer   # Execution optimization

  # ----------------------------------------
  # 3. COVERAGE ANALYSIS DOMAIN
  # ----------------------------------------
  coverage-analysis:
    description: "O(log n) sublinear coverage analysis"
    domain: coverage-analysis
    migrated_from: [qe-coverage-analyzer]
    agents:
      - qe-coverage-specialist   # Coverage metrics
      - qe-gap-detector          # HNSW-based gap detection
      - qe-risk-scorer           # Risk-weighted coverage
      - qe-mutation-tester       # Mutation testing

  # ----------------------------------------
  # 4. QUALITY ASSESSMENT DOMAIN
  # ----------------------------------------
  quality-assessment:
    description: "Quality gates, metrics, and deployment readiness"
    domain: quality-assessment
    migrated_from: [qe-quality-gate, qe-quality-analyzer, qe-deployment-readiness]
    agents:
      - qe-quality-gate          # Quality gate evaluation
      - qe-quality-analyzer      # Metrics analysis
      - qe-deployment-advisor    # Deployment readiness
      - qe-code-complexity       # Code complexity analysis (from v2)

  # ----------------------------------------
  # 5. DEFECT INTELLIGENCE DOMAIN
  # ----------------------------------------
  defect-intelligence:
    description: "Defect prediction, root cause analysis, patterns"
    domain: defect-intelligence
    migrated_from: [qe-regression-risk-analyzer]
    agents:
      - qe-defect-predictor      # ML-based prediction
      - qe-pattern-learner       # Pattern recognition
      - qe-root-cause-analyzer   # Root cause analysis
      - qe-regression-analyzer   # Regression risk (from v2!)

  # ----------------------------------------
  # 6. REQUIREMENTS VALIDATION DOMAIN (NEW!)
  # ----------------------------------------
  requirements-validation:
    description: "Requirements analysis and validation"
    domain: requirements-validation
    migrated_from: [qe-requirements-validator]
    agents:
      - qe-requirements-validator  # Requirements validation (from v2!)
      - qe-bdd-scenario-writer     # BDD scenario generation
      - qe-testability-scorer      # Testability analysis
      - qe-acceptance-criteria     # AC validation

  # ----------------------------------------
  # 7. CODE INTELLIGENCE DOMAIN (NEW!)
  # ----------------------------------------
  code-intelligence:
    description: "Knowledge graph, semantic code understanding"
    domain: code-intelligence
    migrated_from: [qe-code-intelligence]
    agents:
      - qe-code-intelligence     # Knowledge Graph builder (from v2!)
      - qe-semantic-analyzer     # Semantic code analysis
      - qe-dependency-mapper     # Dependency analysis
      - qe-impact-analyzer       # Change impact analysis

  # ----------------------------------------
  # 8. SECURITY & COMPLIANCE DOMAIN
  # ----------------------------------------
  security-compliance:
    description: "Security scanning and compliance validation"
    domain: security-compliance
    migrated_from: [qe-security-scanner]
    agents:
      - qe-security-scanner      # SAST/DAST scanning (from v2)
      - qe-security-auditor      # Security audit
      - qe-compliance-validator  # Regulatory compliance
      - qe-vulnerability-tracker # CVE tracking

  # ----------------------------------------
  # 9. CONTRACT & API TESTING DOMAIN (NEW!)
  # ----------------------------------------
  contract-testing:
    description: "API contract validation and compatibility"
    domain: contract-testing
    migrated_from: [qe-api-contract-validator]
    agents:
      - qe-contract-validator    # Contract testing (from v2!)
      - qe-api-compatibility     # API compatibility
      - qe-schema-validator      # Schema validation
      - qe-graphql-tester        # GraphQL testing

  # ----------------------------------------
  # 10. VISUAL & ACCESSIBILITY DOMAIN (NEW!)
  # ----------------------------------------
  visual-accessibility:
    description: "Visual regression and accessibility testing"
    domain: visual-accessibility
    migrated_from: [qe-visual-tester, qe-a11y-ally]
    agents:
      - qe-visual-tester         # Visual regression (from v2)
      - qe-a11y-specialist       # Accessibility (from v2!)
      - qe-responsive-tester     # Responsive design
      - qe-screenshot-differ     # Screenshot comparison

  # ----------------------------------------
  # 11. CHAOS & RESILIENCE DOMAIN (NEW!)
  # ----------------------------------------
  chaos-resilience:
    description: "Chaos engineering and resilience testing"
    domain: chaos-resilience
    migrated_from: [qe-chaos-engineer]
    agents:
      - qe-chaos-engineer        # Chaos engineering (from v2!)
      - qe-resilience-tester     # Resilience validation
      - qe-load-tester           # Load/stress testing
      - qe-performance-profiler  # Performance profiling (from v2)

  # ----------------------------------------
  # 12. LEARNING & OPTIMIZATION DOMAIN
  # ----------------------------------------
  learning-optimization:
    description: "Cross-domain learning and continuous improvement"
    domain: learning-optimization
    migrated_from: [qe-production-intelligence]
    agents:
      - qe-learning-coordinator  # Learning orchestration
      - qe-transfer-specialist   # Knowledge transfer
      - qe-metrics-optimizer     # Metrics optimization
      - qe-production-intel      # Production intelligence (from v2!)
      - qe-knowledge-manager     # Knowledge management

# ============================================
# SPECIALIZED AGENTS (Cross-Domain)
# ============================================
specialized:
  description: "Cross-domain specialized agents"
  agents:
    - qe-qx-partner             # Quality Experience (from v2!)
    - qe-fleet-commander        # Fleet management (from v2!)

# ============================================
# SUBAGENTS (Task-Specific Workers)
# ============================================
subagents:
  description: "Task-specific worker agents"
  migrated_from: [subagents/*]
  agents:
    - qe-code-reviewer          # Code review
    - qe-test-writer            # Test writing (TDD RED)
    - qe-test-implementer       # Implementation (TDD GREEN)
    - qe-test-refactorer        # Refactoring (TDD REFACTOR)
    - qe-data-generator         # Data generation
    - qe-flaky-investigator     # Flaky investigation
    - qe-coverage-gap-analyzer  # Gap analysis

# ============================================
# MIGRATION MAP (v2 → v3)
# ============================================
migration:
  completed:
    - qe-test-generator → qe-test-architect
    - qe-coverage-analyzer → qe-coverage-specialist
    - qe-quality-gate → qe-quality-gate
    - qe-flaky-test-hunter → qe-flaky-hunter
    - qe-test-executor → qe-parallel-executor
    - qe-quality-analyzer → qe-quality-analyzer
    - qe-deployment-readiness → qe-deployment-advisor

  to_migrate:
    - qe-code-intelligence → qe-code-intelligence
    - qe-requirements-validator → qe-requirements-validator
    - qe-regression-risk-analyzer → qe-regression-analyzer
    - qe-api-contract-validator → qe-contract-validator
    - qe-visual-tester → qe-visual-tester
    - qe-a11y-ally → qe-a11y-specialist
    - qe-chaos-engineer → qe-chaos-engineer
    - qe-security-scanner → qe-security-scanner
    - qe-performance-tester → qe-performance-profiler
    - qe-production-intelligence → qe-production-intel
    - qe-code-complexity → qe-code-complexity
    - qe-test-data-architect → qe-test-data-architect
    - qx-partner → qe-qx-partner
    - qe-fleet-commander → qe-fleet-commander

# ============================================
# COORDINATION PROTOCOLS
# ============================================
protocols:
  morning-sync:
    description: "Daily coordination and prioritization"
    participants: all
    triggers:
      - schedule: "0 9 * * *"
      - event: session-start

  quality-gate:
    description: "Pre-release quality evaluation"
    participants:
      - qe-queen-coordinator
      - qe-quality-gate
      - qe-coverage-specialist
      - qe-regression-analyzer
      - qe-security-scanner
    triggers:
      - event: release-candidate
      - command: "aqe orchestrate --phase quality-gate"

  learning-consolidation:
    description: "End-of-sprint learning consolidation"
    participants:
      - qe-learning-coordinator
      - qe-transfer-specialist
      - qe-pattern-learner
      - qe-production-intel
    triggers:
      - schedule: "0 18 * * 5"
      - command: "aqe orchestrate --phase learning-consolidation"

  defect-investigation:
    description: "Triggered on test failures"
    participants:
      - qe-defect-predictor
      - qe-root-cause-analyzer
      - qe-flaky-hunter
      - qe-regression-analyzer
    triggers:
      - event: test-failure
      - command: "aqe investigate <failure-id>"

  code-intelligence-index:
    description: "Knowledge graph indexing"
    participants:
      - qe-code-intelligence
      - qe-semantic-analyzer
      - qe-dependency-mapper
    triggers:
      - event: code-change
      - schedule: "0 * * * *"  # hourly
      - command: "aqe kg index"

  security-audit:
    description: "Security and compliance audit"
    participants:
      - qe-security-scanner
      - qe-security-auditor
      - qe-compliance-validator
    triggers:
      - schedule: "0 2 * * *"  # 2am daily
      - event: dependency-update
      - command: "aqe security audit"

# ============================================
# CONFIGURATION
# ============================================
config:
  maxConcurrentAgents: 15
  memoryBackend: hybrid
  hnswEnabled: true
  neuralLearning: true
  backgroundWorkers: 12
  hooks: 17

# ============================================
# STATISTICS
# ============================================
statistics:
  totalAgents: 47
  totalDomains: 12
  mainAgents: 46
  subAgents: 7
  coordinator: 1
  specialized: 2
  protocols: 6
