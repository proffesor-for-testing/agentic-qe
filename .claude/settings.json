{
  "env": {
    "AQE_MEMORY_PATH": ".agentic-qe/memory.db",
    "AQE_MEMORY_ENABLED": "true",
    "AQE_LEARNING_ENABLED": "true",
    "AQE_V3_MODE": "true",
    "AQE_V3_DDD_ENABLED": "true",
    "AQE_V3_DOMAINS": "test-generation,test-execution,coverage-analysis,quality-assessment,defect-intelligence,learning-optimization,requirements-validation,code-intelligence,security-compliance,contract-testing,visual-accessibility,chaos-resilience",
    "AQE_V3_SWARM_SIZE": "21",
    "AQE_V3_TOPOLOGY": "hierarchical",
    "AQE_V3_SUBLINEAR_ENABLED": "true",
    "AQE_V3_HNSW_ENABLED": "true",
    "AQE_V3_HOOKS_ENABLED": "true",
    "AQE_V3_HOOK_BRIDGE": ".claude/hooks/v3-qe-bridge.sh",
    "AQE_V3_DOMAIN_WORKERS": ".claude/hooks/v3-domain-workers.json",
    "AQE_V3_AISP_ENABLED": "true",
    "AQE_V3_REASONING_BANK": ".agentic-qe/memory.db",
    "AQE_V3_PATTERN_PROMOTION_THRESHOLD": "3",
    "AQE_V3_SUCCESS_RATE_THRESHOLD": "0.7"
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && npx @claude-flow/cli@latest hooks pre-edit --file \"$TOOL_INPUT_file_path\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && npx @claude-flow/cli@latest hooks pre-command --command \"$TOOL_INPUT_command\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_prompt\" ] && npx @claude-flow/cli@latest hooks pre-task --task-id \"task-$(date +%s)\" --description \"$TOOL_INPUT_prompt\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && aqe hooks pre-edit --file \"$TOOL_INPUT_file_path\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && aqe hooks pre-command --command \"$TOOL_INPUT_command\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_prompt\" ] && aqe hooks pre-task --task-id \"task-$(date +%s)\" --description \"$TOOL_INPUT_prompt\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && npx @claude-flow/cli@latest hooks post-edit --file \"$TOOL_INPUT_file_path\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh file-edit \"$TOOL_INPUT_file_path\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && npx @claude-flow/cli@latest hooks post-command --command \"$TOOL_INPUT_command\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh command-exec \"$TOOL_INPUT_command\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_RESULT_agent_id\" ] && npx @claude-flow/cli@latest hooks post-task --task-id \"$TOOL_RESULT_agent_id\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_RESULT_agent_id\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh task-complete \"$TOOL_RESULT_agent_id\" \"${TOOL_INPUT_subagent_type:-unknown}\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && aqe hooks post-edit --file \"$TOOL_INPUT_file_path\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && aqe hooks post-command --command \"$TOOL_INPUT_command\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_RESULT_agent_id\" ] && aqe hooks post-task --task-id \"$TOOL_RESULT_agent_id\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$PROMPT\" ] && npx @claude-flow/cli@latest hooks route --task \"$PROMPT\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$PROMPT\" ] && aqe hooks route --task \"$PROMPT\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest daemon start --quiet 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$SESSION_ID\" ] && npx @claude-flow/cli@latest hooks session-restore --session-id \"$SESSION_ID\" 2>/dev/null || true",
            "timeout": 10000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$SESSION_ID\" ] && aqe hooks session-start --session-id \"$SESSION_ID\" 2>/dev/null || true",
            "timeout": 10000,
            "continueOnError": true
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest hooks session-end --export-metrics 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "aqe hooks session-end --save-state 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "Notification": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$NOTIFICATION_MESSAGE\" ] && npx @claude-flow/cli@latest memory store --namespace notifications --key \"notify-$(date +%s)\" --value \"$NOTIFICATION_MESSAGE\" 2>/dev/null || true",
            "timeout": 3000,
            "continueOnError": true
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "node .claude/helpers/statusline-v3.cjs 2>/dev/null || .claude/statusline-v3.sh 2>/dev/null || echo \"â–Š Agentic QE v3\"",
    "refreshMs": 5000,
    "enabled": true
  },
  "permissions": {
    "allow": [
      "Bash(npx claude-flow:*)",
      "Bash(npx @claude-flow/cli:*)",
      "mcp__claude-flow__:*",
      "mcp__agentic_qe__*",
      "mcp__agentic-qe-v3__*"
    ],
    "deny": [
      "Bash(rm -rf /)"
    ]
  },
  "includeCoAuthoredBy": true,
  "enabledMcpjsonServers": [
    "agentic-qe-v3",
    "claude-flow"
  ],
  "claudeFlow": {
    "version": "3.0.0",
    "enabled": true,
    "modelPreferences": {
      "default": "claude-opus-4-5-20251101",
      "routing": "claude-3-5-haiku-20241022"
    },
    "swarm": {
      "topology": "hierarchical-mesh",
      "maxAgents": 15
    },
    "memory": {
      "backend": "hybrid",
      "enableHNSW": true
    },
    "neural": {
      "enabled": true
    },
    "daemon": {
      "autoStart": true,
      "workers": [
        "map",
        "audit",
        "optimize",
        "consolidate",
        "testgaps",
        "ultralearn",
        "deepdive",
        "document",
        "refactor",
        "benchmark"
      ],
      "schedules": {
        "audit": {
          "interval": "1h",
          "priority": "critical"
        },
        "optimize": {
          "interval": "30m",
          "priority": "high"
        },
        "consolidate": {
          "interval": "2h",
          "priority": "low"
        }
      }
    },
    "learning": {
      "enabled": true,
      "autoTrain": true,
      "patterns": [
        "coordination",
        "optimization",
        "prediction"
      ]
    }
  },
  "v3Configuration": {
    "domains": {
      "total": 12,
      "names": [
        "test-generation",
        "test-execution",
        "coverage-analysis",
        "quality-assessment",
        "defect-intelligence",
        "learning-optimization",
        "requirements-validation",
        "code-intelligence",
        "security-compliance",
        "contract-testing",
        "visual-accessibility",
        "chaos-resilience"
      ]
    },
    "swarm": {
      "totalAgents": 34,
      "topology": "hierarchical",
      "coordination": "queen-led"
    }
  },
  "v3Learning": {
    "enabled": true,
    "reasoningBank": {
      "dbPath": ".agentic-qe/memory.db",
      "enableHNSW": true
    },
    "patternPromotion": {
      "threshold": 3,
      "successRateMin": 0.7
    }
  }
}
