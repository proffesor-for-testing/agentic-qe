{
  "env": {
    "AQE_MEMORY_PATH": ".agentic-qe/memory.db",
    "AQE_MEMORY_ENABLED": "true",
    "AQE_LEARNING_ENABLED": "true",
    "AQE_V3_MODE": "true",
    "AQE_V3_DDD_ENABLED": "true",
    "AQE_V3_DOMAINS": "test-generation,test-execution,coverage-analysis,quality-assessment,defect-intelligence,learning-optimization,requirements-validation,code-intelligence,security-compliance,contract-testing,visual-accessibility,chaos-resilience",
    "AQE_V3_SWARM_SIZE": "21",
    "AQE_V3_TOPOLOGY": "hierarchical",
    "AQE_V3_SUBLINEAR_ENABLED": "true",
    "AQE_V3_HNSW_ENABLED": "true",
    "AQE_V3_HOOKS_ENABLED": "true",
    "AQE_V3_HOOK_BRIDGE": ".claude/hooks/v3-qe-bridge.sh",
    "AQE_V3_DOMAIN_WORKERS": ".claude/hooks/v3-domain-workers.json",
    "AQE_V3_AISP_ENABLED": "true",
    "AQE_V3_REASONING_BANK": ".agentic-qe/qe-patterns.db",
    "AQE_V3_PATTERN_PROMOTION_THRESHOLD": "3",
    "AQE_V3_SUCCESS_RATE_THRESHOLD": "0.7"
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && npx @claude-flow/cli@latest hooks pre-edit --file \"$TOOL_INPUT_file_path\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && npx @claude-flow/cli@latest hooks pre-command --command \"$TOOL_INPUT_command\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_prompt\" ] && npx @claude-flow/cli@latest hooks pre-task --task-id \"task-$(date +%s)\" --description \"$TOOL_INPUT_prompt\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && npx @claude-flow/cli@latest hooks post-edit --file \"$TOOL_INPUT_file_path\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_file_path\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh file-edit \"$TOOL_INPUT_file_path\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && npx @claude-flow/cli@latest hooks post-command --command \"$TOOL_INPUT_command\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_INPUT_command\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh command-exec \"$TOOL_INPUT_command\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TOOL_RESULT_agent_id\" ] && npx @claude-flow/cli@latest hooks post-task --task-id \"$TOOL_RESULT_agent_id\" --success \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$TOOL_RESULT_agent_id\" ] && [ \"${AQE_V3_HOOKS_ENABLED:-true}\" = \"true\" ] && .claude/hooks/v3-qe-bridge.sh task-complete \"$TOOL_RESULT_agent_id\" \"${TOOL_INPUT_subagent_type:-unknown}\" \"${TOOL_SUCCESS:-true}\" 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$PROMPT\" ] && npx @claude-flow/cli@latest hooks route --task \"$PROMPT\" || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest daemon start --quiet 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "[ -n \"$SESSION_ID\" ] && npx @claude-flow/cli@latest hooks session-restore --session-id \"$SESSION_ID\" 2>/dev/null || true",
            "timeout": 10000,
            "continueOnError": true
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx @claude-flow/cli@latest hooks session-end --save-state true --export-metrics true 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx @claude-flow/cli@latest hooks session-end --save-state true --export-metrics true 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 3000,
            "command": "/bin/bash -c 'echo \"V3: 21 QE agents + 12 domains. Review CLAUDE.md for skills.\"'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest hooks session-end --save-state true 2>/dev/null || true",
            "timeout": 3000
          }
        ]
      }
    ],
    "Notification": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$NOTIFICATION_MESSAGE\" ] && npx @claude-flow/cli@latest memory store --namespace notifications --key \"notify-$(date +%s)\" --value \"$NOTIFICATION_MESSAGE\" 2>/dev/null || true",
            "timeout": 3000,
            "continueOnError": true
          }
        ]
      }
    ],
    "PermissionRequest": [
      {
        "matcher": "^mcp__claude-flow__.*$",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"decision\": \"allow\", \"reason\": \"claude-flow MCP tool auto-approved\"}'",
            "timeout": 1000
          }
        ]
      },
      {
        "matcher": "^Bash\\(npx @?claude-flow.*\\)$",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"decision\": \"allow\", \"reason\": \"claude-flow CLI auto-approved\"}'",
            "timeout": 1000
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "npx @claude-flow/cli@latest hooks statusline 2>/dev/null || node .claude/helpers/statusline.cjs 2>/dev/null || echo \"▊ Claude Flow V3\"",
    "refreshMs": 5000,
    "enabled": true
  },
  "permissions": {
    "allow": [
      "Bash(npx claude-flow*)",
      "Bash(npx @claude-flow/*)",
      "mcp__claude-flow__*",
      "mcp__agentic-qe__*",
      "mcp__agentic-qe-v3__*"
    ],
    "deny": [
      "Bash(rm -rf /)"
    ]
  },
  "includeCoAuthoredBy": true,
  "enabledMcpjsonServers": [
    "agentic-qe-v3",
    "claude-flow",
    "agentic-qe"
  ],
  "claudeFlow": {
    "version": "3.0.0",
    "enabled": true,
    "modelPreferences": {
      "default": "claude-opus-4-5-20251101",
      "routing": "claude-3-5-haiku-20241022"
    },
    "swarm": {
      "topology": "hierarchical-mesh",
      "maxAgents": 15
    },
    "memory": {
      "backend": "hybrid",
      "enableHNSW": true
    },
    "neural": {
      "enabled": true
    },
    "daemon": {
      "autoStart": true,
      "workers": [
        "map",
        "audit",
        "optimize",
        "consolidate",
        "testgaps",
        "ultralearn",
        "deepdive",
        "document",
        "refactor",
        "benchmark"
      ],
      "schedules": {
        "audit": {
          "interval": "1h",
          "priority": "critical"
        },
        "optimize": {
          "interval": "30m",
          "priority": "high"
        },
        "consolidate": {
          "interval": "2h",
          "priority": "low"
        },
        "document": {
          "interval": "1h",
          "priority": "normal",
          "triggers": [
            "adr-update",
            "api-change"
          ]
        },
        "deepdive": {
          "interval": "4h",
          "priority": "normal",
          "triggers": [
            "complex-change"
          ]
        },
        "ultralearn": {
          "interval": "1h",
          "priority": "normal"
        }
      }
    },
    "learning": {
      "enabled": true,
      "autoTrain": true,
      "patterns": [
        "coordination",
        "optimization",
        "prediction"
      ],
      "retention": {
        "shortTerm": "24h",
        "longTerm": "30d"
      }
    },
    "adr": {
      "autoGenerate": true,
      "directory": "/docs/adr",
      "template": "madr"
    },
    "ddd": {
      "trackDomains": true,
      "validateBoundedContexts": true,
      "directory": "/docs/ddd"
    },
    "security": {
      "autoScan": true,
      "scanOnEdit": true,
      "cveCheck": true,
      "threatModel": true
    }
  },
  "workers": {
    "enabled": true,
    "parallel": true,
    "maxConcurrent": 10,
    "native": {
      "enabled": true,
      "types": [
        "security",
        "analysis",
        "learning"
      ],
      "defaultTimeout": 120000
    },
    "triggers": {
      "ultralearn": {
        "priority": "high",
        "agents": ["researcher", "coder"]
      },
      "optimize": {
        "priority": "high",
        "agents": ["performance-analyzer"]
      },
      "audit": {
        "priority": "critical",
        "agents": ["security-analyst", "tester"]
      },
      "map": {
        "priority": "medium",
        "agents": ["architect"]
      },
      "security": {
        "priority": "critical",
        "agents": ["security-analyst"]
      },
      "benchmark": {
        "priority": "low",
        "agents": ["performance-analyzer"]
      },
      "document": {
        "priority": "medium",
        "agents": ["documenter"]
      },
      "refactor": {
        "priority": "medium",
        "agents": ["coder", "reviewer"]
      },
      "testgaps": {
        "priority": "high",
        "agents": ["tester"]
      },
      "deepdive": {
        "priority": "low",
        "agents": ["researcher"]
      },
      "predict": {
        "priority": "medium",
        "agents": ["analyst"]
      },
      "consolidate": {
        "priority": "low",
        "agents": ["architect"]
      },
      "qe-sync": {
        "priority": "high",
        "description": "Sync AQE memory with intelligence",
        "agents": ["v3-qe-learning-coordinator"],
        "v2Compat": ["qe-coordinator"]
      },
      "qe-learn": {
        "priority": "medium",
        "description": "Run QE self-learning cycle",
        "agents": ["v3-qe-test-architect", "v3-qe-coverage-specialist"],
        "v2Compat": ["qe-test-generator", "qe-coverage-analyzer"]
      },
      "v3-test-generation": {
        "priority": "high",
        "description": "V3 test generation domain learning",
        "agents": ["v3-qe-test-architect", "v3-qe-tdd-specialist"],
        "domain": "test-generation",
        "hooks": ["qe:pre-test-generation", "qe:post-test-generation"],
        "v2Compat": ["qe-test-generator", "qe-test-architect"]
      },
      "v3-test-execution": {
        "priority": "high",
        "description": "V3 test execution domain learning",
        "agents": ["v3-qe-parallel-executor", "v3-qe-flaky-hunter", "v3-qe-retry-handler"],
        "domain": "test-execution",
        "hooks": ["qe:test-execution-result"],
        "v2Compat": ["qe-test-executor", "qe-flaky-hunter"]
      },
      "v3-coverage-analysis": {
        "priority": "high",
        "description": "V3 coverage analysis domain learning",
        "agents": ["v3-qe-coverage-specialist", "v3-qe-gap-detector", "v3-qe-risk-scorer"],
        "domain": "coverage-analysis",
        "hooks": ["qe:pre-coverage-analysis", "qe:post-coverage-analysis", "qe:coverage-gap-identified"],
        "v2Compat": ["qe-coverage-analyzer", "qe-coverage-gap-analyzer"]
      },
      "v3-quality-assessment": {
        "priority": "critical",
        "description": "V3 quality assessment domain learning",
        "agents": ["v3-qe-quality-gate", "v3-qe-deployment-advisor", "v3-qe-risk-assessor"],
        "domain": "quality-assessment",
        "hooks": ["qe:quality-score", "qe:risk-assessment"],
        "v2Compat": ["qe-quality-gate", "qe-quality-analyzer"]
      },
      "v3-defect-intelligence": {
        "priority": "high",
        "description": "V3 defect intelligence domain learning",
        "agents": ["v3-qe-defect-predictor", "v3-qe-root-cause-analyzer", "v3-qe-flaky-hunter"],
        "domain": "defect-intelligence",
        "hooks": ["qe:pattern-learned", "qe:pattern-applied"],
        "v2Compat": ["qe-flaky-investigator"]
      },
      "v3-learning-optimization": {
        "priority": "medium",
        "description": "V3 learning optimization domain",
        "agents": ["v3-qe-learning-coordinator", "v3-qe-pattern-learner", "v3-qe-transfer-specialist", "v3-qe-metrics-optimizer"],
        "domain": "learning-optimization",
        "hooks": ["qe:pattern-learned", "qe:pattern-applied", "qe:pattern-promoted"],
        "v2Compat": ["sona-learning-optimizer"]
      },
      "v3-requirements-validation": {
        "priority": "medium",
        "description": "V3 requirements validation domain learning",
        "agents": ["v3-qe-tdd-specialist", "v3-qe-property-tester"],
        "domain": "requirements-validation",
        "hooks": ["qe:pre-test-generation"],
        "v2Compat": ["qe-requirements-validator"]
      },
      "v3-code-intelligence": {
        "priority": "medium",
        "description": "V3 code intelligence domain learning",
        "agents": ["v3-qe-knowledge-manager", "code-analyzer"],
        "domain": "code-intelligence",
        "hooks": ["qe:agent-routing", "qe:agent-completion"],
        "v2Compat": ["qe-code-intelligence", "qe-code-complexity"]
      },
      "v3-security-compliance": {
        "priority": "critical",
        "description": "V3 security compliance domain learning",
        "agents": ["v3-qe-security-scanner", "v3-qe-security-auditor", "security-architect"],
        "domain": "security-compliance",
        "hooks": ["qe:risk-assessment"],
        "v2Compat": ["qe-security-auditor", "qe-security-scanner"]
      },
      "v3-contract-testing": {
        "priority": "high",
        "description": "V3 contract testing domain learning",
        "agents": ["v3-qe-integration-tester", "v3-qe-contract-validator"],
        "domain": "contract-testing",
        "hooks": ["qe:pre-test-generation", "qe:post-test-generation"],
        "v2Compat": ["qe-api-contract-validator"]
      },
      "v3-visual-accessibility": {
        "priority": "medium",
        "description": "V3 visual accessibility domain learning",
        "agents": ["v3-qe-visual-tester", "v3-qe-a11y-validator"],
        "domain": "visual-accessibility",
        "hooks": ["qe:pre-test-generation", "qe:quality-score"],
        "v2Compat": ["qe-visual-tester", "qe-a11y-ally"]
      },
      "v3-chaos-resilience": {
        "priority": "medium",
        "description": "V3 chaos resilience domain learning",
        "agents": ["v3-qe-chaos-engineer", "v3-qe-performance-tester", "v3-qe-load-tester"],
        "domain": "chaos-resilience",
        "hooks": ["qe:test-execution-result", "qe:quality-score"],
        "v2Compat": ["qe-chaos-engineer", "qe-performance-tester", "qe-performance-validator"]
      },
      "v3-aisp-validate": {
        "priority": "low",
        "description": "AISP specification validation",
        "agents": ["v3-qe-test-architect"],
        "domain": "learning-optimization",
        "hooks": ["aisp:validate", "aisp:generate"]
      }
    }
  },
  "v3Configuration": {
    "domains": {
      "total": 12,
      "names": [
        "test-generation",
        "test-execution",
        "coverage-analysis",
        "quality-assessment",
        "defect-intelligence",
        "learning-optimization",
        "requirements-validation",
        "code-intelligence",
        "security-compliance",
        "contract-testing",
        "visual-accessibility",
        "chaos-resilience"
      ],
      "sourceDir": "v3/src/domains"
    },
    "swarm": {
      "totalAgents": 34,
      "topology": "hierarchical",
      "coordination": "queen-led",
      "groups": {
        "test-generation": ["v3-qe-test-architect", "v3-qe-tdd-specialist", "v3-qe-integration-tester", "v3-qe-property-tester"],
        "quality-gates": ["v3-qe-quality-gate", "v3-qe-deployment-advisor", "v3-qe-risk-assessor"],
        "intelligence": ["v3-qe-defect-predictor", "v3-qe-pattern-learner", "v3-qe-root-cause-analyzer"],
        "execution": ["v3-qe-parallel-executor", "v3-qe-flaky-hunter", "v3-qe-retry-handler"],
        "coverage": ["v3-qe-coverage-specialist", "v3-qe-gap-detector", "v3-qe-risk-scorer"],
        "learning": ["v3-qe-learning-coordinator", "v3-qe-transfer-specialist", "v3-qe-metrics-optimizer", "v3-qe-knowledge-manager"],
        "security": ["v3-qe-security-scanner", "v3-qe-security-auditor", "v3-qe-compliance-validator"],
        "contracts": ["v3-qe-contract-validator", "v3-qe-api-tester", "v3-qe-schema-validator"],
        "visual": ["v3-qe-visual-tester", "v3-qe-a11y-validator", "v3-qe-responsive-tester"],
        "chaos": ["v3-qe-chaos-engineer", "v3-qe-performance-tester", "v3-qe-load-tester", "v3-qe-resilience-validator"]
      },
      "v2CompatMapping": {
        "qe-coordinator": "v3-qe-learning-coordinator",
        "qe-test-generator": "v3-qe-test-architect",
        "qe-test-architect": "v3-qe-test-architect",
        "qe-coverage-analyzer": "v3-qe-coverage-specialist",
        "qe-coverage-gap-analyzer": "v3-qe-gap-detector",
        "qe-test-executor": "v3-qe-parallel-executor",
        "qe-flaky-hunter": "v3-qe-flaky-hunter",
        "qe-flaky-investigator": "v3-qe-flaky-hunter",
        "qe-quality-gate": "v3-qe-quality-gate",
        "qe-quality-analyzer": "v3-qe-quality-gate",
        "qe-requirements-validator": "v3-qe-tdd-specialist",
        "qe-api-contract-validator": "v3-qe-contract-validator",
        "qe-security-scanner": "v3-qe-security-scanner",
        "qe-security-auditor": "v3-qe-security-auditor",
        "qe-visual-tester": "v3-qe-visual-tester",
        "qe-a11y-ally": "v3-qe-a11y-validator",
        "qe-chaos-engineer": "v3-qe-chaos-engineer",
        "qe-performance-tester": "v3-qe-performance-tester",
        "qe-performance-validator": "v3-qe-load-tester",
        "qe-code-intelligence": "v3-qe-knowledge-manager",
        "qe-code-complexity": "v3-qe-knowledge-manager"
      }
    },
    "performance": {
      "sublinearTarget": "O(log n)",
      "coverageTarget": 90,
      "feedbackTarget": "5min",
      "learningImprovement": "15%/sprint"
    },
    "adrs": {
      "total": 29,
      "path": "v3/implementation/adrs/v3-adrs.md",
      "aisp": ["ADR-026", "ADR-027", "ADR-028", "ADR-029"]
    },
    "stats": {
      "sourceFiles": 166,
      "testFiles": 46,
      "testsPassing": 1171,
      "stubsRemaining": 18,
      "lastUpdated": "2026-01-10"
    }
  },
  "v3Learning": {
    "enabled": true,
    "reasoningBank": {
      "dbPath": ".agentic-qe/qe-patterns.db",
      "enableHNSW": true,
      "embeddingModel": "Xenova/all-MiniLM-L6-v2",
      "hnswConfig": {
        "M": 16,
        "efConstruction": 200,
        "efSearch": 100
      }
    },
    "patternPromotion": {
      "threshold": 3,
      "successRateMin": 0.7,
      "confidenceMin": 0.6
    },
    "hooks": {
      "bridgeScript": ".claude/hooks/v3-qe-bridge.sh",
      "domainWorkers": ".claude/hooks/v3-domain-workers.json",
      "events": [
        "qe:pre-test-generation",
        "qe:post-test-generation",
        "qe:test-execution-result",
        "qe:pre-coverage-analysis",
        "qe:post-coverage-analysis",
        "qe:coverage-gap-identified",
        "qe:agent-routing",
        "qe:agent-completion",
        "qe:quality-score",
        "qe:risk-assessment",
        "qe:pattern-learned",
        "qe:pattern-applied",
        "qe:pattern-promoted"
      ]
    },
    "aisp": {
      "enabled": true,
      "version": "5.1",
      "parserPath": "v3/src/aisp",
      "validationEnabled": true,
      "qualityTiers": ["◊⁺⁺", "◊⁺", "◊", "◊⁻", "⊘"]
    },
    "crossDomain": {
      "enabled": true,
      "transferLearning": true,
      "patternSharing": true,
      "metricsAggregation": true
    },
    "feedback": {
      "outcomeTracking": true,
      "coverageLearning": true,
      "patternPromotion": true,
      "routingOptimization": true
    }
  }
}
