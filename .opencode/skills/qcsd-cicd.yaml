name: qcsd-cicd
description: "QCSD Verification phase — CI/CD pipeline quality gates with regression analysis, flaky test detection, and deployment readiness."
minModelTier: tier3-best
tags: ["qcsd", "swarm", "quality-engineering", "cicd", "verification"]
steps:
  - name: regression-and-flaky
    description: "Run regression risk analysis and detect flaky tests in the CI pipeline."
    tools: ["task", "mcp:agentic-qe:test_execute_parallel", "mcp:agentic-qe:memory_query"]
    prompt: |
      Spawn parallel agents:
      1. qe-regression-analyzer — Analyze change impact and regression risk
      2. qe-flaky-hunter — Detect and quarantine flaky tests
      3. qe-quality-gate — Enforce quality gate thresholds
      Consume Development phase SHIP/CONDITIONAL/HOLD decision from memory.

  - name: security-and-coverage
    description: "Run security scans and verify coverage thresholds before deployment."
    tools: ["mcp:agentic-qe:security_scan_comprehensive", "mcp:agentic-qe:coverage_analyze_sublinear"]
    prompt: |
      Execute pre-deployment verification:
      1. Run SAST security scan on changed files
      2. Verify coverage meets release thresholds
      3. Check for dependency vulnerabilities
      Block deployment if critical security findings detected.

  - name: deployment-readiness
    description: "Produce deployment readiness assessment with RELEASE/REMEDIATE/BLOCK decision."
    tools: ["mcp:agentic-qe:quality_assess", "mcp:agentic-qe:memory_store"]
    prompt: |
      Assess deployment readiness:
      - All quality gates passed
      - No critical/high security findings
      - Flaky tests quarantined, not blocking
      - Regression risk acceptable
      Produce RELEASE/REMEDIATE/BLOCK decision and store for Production phase.
