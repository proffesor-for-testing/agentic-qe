# v3.7.4 Release Notes

**Release Date:** 2026-02-28

## Highlights

This release adds support for **8 new coding agent platforms**, bringing the total to **11 supported platforms**. MCP has become the universal standard — a single AQE MCP server now covers ~90% of the coding agent market. The work spans config generation, behavioral rules, CLI commands, and comprehensive testing for each platform.

## Multi-Platform Coding Agent Support

### Universal Config Generator

New `PlatformConfigGenerator` class handles all 8 platforms with a unified registry mapping each to its config path, key, and format (JSON, TOML, YAML).

**File:** `v3/src/init/platform-config-generator.ts`

### Priority 1 Platforms (JSON-based MCP)

| Platform | Users | Config Path | Behavioral Rules |
|----------|-------|-------------|-----------------|
| **GitHub Copilot** | 20M | `.vscode/mcp.json` | `.github/copilot-instructions.md` |
| **Cursor** | 360K paid | `.cursor/mcp.json` | `.cursorrules` |
| **Cline** | 5M installs | `.vscode/cline_mcp_settings.json` | Custom QE mode + 21-tool `alwaysAllow` |
| **Kilo Code** | 1.5M | `.kilocode/mcp.json` | Custom QE mode + 21-tool `alwaysAllow` |
| **Roo Code** | Growing | `.roo/mcp.json` | Custom QE mode + 21-tool `alwaysAllow` |

### Priority 2 Platforms (Different Config Formats)

| Platform | Users | Config Path | Format |
|----------|-------|-------------|--------|
| **OpenAI Codex CLI** | 1M+ | `.codex/config.toml` | TOML |
| **Windsurf** | Large | `.windsurf/mcp_config.json` | JSON |
| **Continue.dev** | Enterprise | `.continue/config.yaml` | YAML |

### CLI Integration

- `aqe init --with-copilot/cursor/cline/kilocode/roocode/codex/windsurf/continuedev` — individual platform flags
- `aqe init --with-all-platforms` — all 8 platforms at once
- `aqe platform list` — shows all platforms with install status
- `aqe platform setup <name>` — install a specific platform
- `aqe platform verify <name>` — validate config format, content, and rules

### Each Installer Generates

1. **MCP config** in the platform's native format with `agentic-qe` server entry
2. **Behavioral rules** tailored to the platform (Markdown, TOML comments, YAML, custom modes)
3. **Merge-safe writing** — won't overwrite existing config; merges `agentic-qe` entry into existing files

## Bug Fixes

- **Continue.dev YAML merge duplicate keys** — `mergeExistingYamlConfig()` previously appended a full `mcpServers:` block when existing config already had that key, producing invalid YAML. Now detects existing `mcpServers:` and appends only the server entry.
- **CodeQL biased-cryptographic-random alerts** — Replaced `Math.random()` with `crypto.randomUUID()` in CI-sensitive paths.

## Testing

| Test Suite | Count | Description |
|------------|-------|-------------|
| Per-platform unit tests (x8) | 81 | Config generation, file writing, merge behavior |
| Config generator unit tests | 22 | All platform formats, registry validation |
| Integration tests | 76 | Real filesystem, format validation, multi-platform |
| Cross-platform init tests | 23 | Auto-detection, round-trip, cross-format consistency |
| **Total new tests** | **202** | |

All **467 tests** pass across 26 test files. Build clean.

## Documentation

- **`docs/platform-setup-guide.md`** — Per-platform setup instructions (automated + manual) for all 11 platforms
- **`docs/multi-platform-integration-plan.md`** — Full implementation plan with status tracking
- **README.md** — Updated Quick Start, feature list, and new Multi-Platform section

## Files Added

| File | Purpose |
|------|---------|
| `v3/src/init/platform-config-generator.ts` | Universal config generator |
| `v3/src/init/copilot-installer.ts` | GitHub Copilot installer |
| `v3/src/init/cursor-installer.ts` | Cursor installer |
| `v3/src/init/cline-installer.ts` | Cline installer |
| `v3/src/init/kilocode-installer.ts` | Kilo Code installer |
| `v3/src/init/roocode-installer.ts` | Roo Code installer |
| `v3/src/init/codex-installer.ts` | OpenAI Codex CLI installer |
| `v3/src/init/windsurf-installer.ts` | Windsurf installer |
| `v3/src/init/continuedev-installer.ts` | Continue.dev installer |
| `v3/src/cli/commands/platform.ts` | `aqe platform list/setup/verify` CLI |
| `v3/tests/unit/init/*-installer.test.ts` (x8) | Per-platform unit tests |
| `v3/tests/unit/init/platform-config-generator.test.ts` | Config generator tests |
| `v3/tests/integration/platform-installers.test.ts` | Integration tests (76) |
| `v3/tests/integration/cross-platform-init.test.ts` | Cross-platform tests (23) |
| `docs/platform-setup-guide.md` | Setup guide for all 11 platforms |
