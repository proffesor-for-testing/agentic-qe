# v3.6.17 Release Notes

**Release Date:** 2026-02-21

## Highlights

The QE Queen Coordinator now runs its full 10-phase protocol end-to-end. Semantic search via HNSW actually works — store a value, query with natural language, get scored results back. Hierarchical topology assigns domain leads and workers. MCP connections survive parallel load.

## Added

- **HNSW semantic search** — `memory_query` with `semantic: true` performs vector search with cosine similarity scoring and automatic fallback to pattern matching
- **Vector storage on write** — `memory_store` indexes entries in the HNSW vector index so semantic search finds them immediately
- **Hierarchical agent topology** — First agent per domain becomes lead, subsequent agents become workers when using `topology: "hierarchical"`
- **MCP reconnection with buffering** — Transport errors trigger exponential backoff reconnection with request buffering and replay
- **Real experience capture** — Tool executions record patterns via ExperienceCaptureService instead of placeholder feedback

## Fixed

- **Stdio transport drops under parallel load** — Write timeout 30s to 120s with retry and backpressure handling
- **Semantic search returned 0 results** — `memory_store` now calls `storeVector()` after every KV write
- **Embedding dimension mismatch** — Text embeddings now generate 768 dimensions matching the HNSW index
- **Transport stop() race condition** — `running` flag set before readline close to prevent spurious reconnect

## Changed

- Queen Coordinator docs updated with semantic search params and complete tool reference
- Learning feedback reflects actual capture status instead of hardcoded text
