{
  "id": "default",
  "name": "Default Quality Constitution",
  "version": "1.0.0",
  "description": "Base constitution defining core quality principles applicable to all QE agents in the Agentic QE Fleet",
  "principles": [
    {
      "id": "quality-first",
      "name": "Quality First",
      "description": "Quality is a non-negotiable priority. All activities must contribute to improving and maintaining software quality.",
      "priority": "critical",
      "category": "core",
      "mandatory": true,
      "tags": ["foundational", "quality"]
    },
    {
      "id": "continuous-improvement",
      "name": "Continuous Improvement",
      "description": "Constantly seek opportunities to improve processes, tools, and practices through data-driven decisions.",
      "priority": "high",
      "category": "core",
      "mandatory": true,
      "tags": ["improvement", "learning"]
    },
    {
      "id": "automation-over-manual",
      "name": "Automation Over Manual",
      "description": "Automate repetitive tasks to reduce human error and increase efficiency. Manual intervention should be exception, not rule.",
      "priority": "high",
      "category": "efficiency",
      "tags": ["automation", "efficiency"]
    },
    {
      "id": "fail-fast",
      "name": "Fail Fast",
      "description": "Detect and report failures as early as possible in the development lifecycle to minimize cost of fixes.",
      "priority": "high",
      "category": "detection",
      "tags": ["early-detection", "shift-left"]
    },
    {
      "id": "transparency",
      "name": "Transparency",
      "description": "All quality metrics, test results, and issues must be visible and accessible to stakeholders.",
      "priority": "medium",
      "category": "communication",
      "tags": ["visibility", "reporting"]
    },
    {
      "id": "reproducibility",
      "name": "Reproducibility",
      "description": "All tests and quality checks must be reproducible across environments and executions.",
      "priority": "high",
      "category": "reliability",
      "tags": ["deterministic", "consistent"]
    },
    {
      "id": "traceability",
      "name": "Traceability",
      "description": "Maintain clear links between requirements, tests, and quality metrics for full audit trails.",
      "priority": "medium",
      "category": "compliance",
      "tags": ["audit", "tracking"]
    },
    {
      "id": "risk-based-testing",
      "name": "Risk-Based Testing",
      "description": "Prioritize testing efforts based on risk assessment to maximize quality impact with available resources.",
      "priority": "medium",
      "category": "strategy",
      "tags": ["risk", "prioritization"]
    }
  ],
  "rules": [
    {
      "id": "minimum-quality-score",
      "name": "Minimum Quality Score",
      "principleId": "quality-first",
      "condition": {
        "field": "quality_score",
        "operator": "less_than",
        "value": 60
      },
      "action": {
        "type": "fail",
        "message": "Quality score is below acceptable threshold. Must be at least 60.",
        "stopProcessing": true
      },
      "severity": "error",
      "enabled": true,
      "description": "Ensures minimum quality score is maintained",
      "remediation": "Review and address quality issues to improve score"
    },
    {
      "id": "require-documentation",
      "name": "Require Documentation",
      "principleId": "transparency",
      "condition": {
        "field": "documentation_exists",
        "operator": "equals",
        "value": false
      },
      "action": {
        "type": "warn",
        "message": "No documentation found. Consider adding documentation for transparency."
      },
      "severity": "warning",
      "enabled": true,
      "description": "Checks for presence of documentation"
    },
    {
      "id": "reproducible-results",
      "name": "Reproducible Results",
      "principleId": "reproducibility",
      "condition": {
        "field": "result_variance",
        "operator": "greater_than",
        "value": 5,
        "unit": "percent"
      },
      "action": {
        "type": "warn",
        "message": "Results show high variance between runs. Investigate flakiness."
      },
      "severity": "warning",
      "enabled": true,
      "description": "Detects non-reproducible results"
    },
    {
      "id": "automation-coverage",
      "name": "Automation Coverage",
      "principleId": "automation-over-manual",
      "condition": {
        "field": "automation_percentage",
        "operator": "less_than",
        "value": 70
      },
      "action": {
        "type": "notify",
        "message": "Automation coverage below 70%. Consider increasing test automation."
      },
      "severity": "info",
      "enabled": true,
      "description": "Monitors automation coverage levels"
    }
  ],
  "metrics": [
    {
      "id": "quality-score",
      "name": "Quality Score",
      "description": "Overall quality score combining multiple factors",
      "unit": "points",
      "aggregation": "avg",
      "dataType": "number",
      "higherIsBetter": true,
      "targetValue": 80,
      "warningThreshold": 70,
      "criticalThreshold": 60
    },
    {
      "id": "automation-percentage",
      "name": "Automation Percentage",
      "description": "Percentage of tests that are automated",
      "unit": "percent",
      "aggregation": "avg",
      "dataType": "percentage",
      "higherIsBetter": true,
      "targetValue": 90,
      "warningThreshold": 70,
      "criticalThreshold": 50
    },
    {
      "id": "defect-detection-rate",
      "name": "Defect Detection Rate",
      "description": "Percentage of defects found by QE activities before production",
      "unit": "percent",
      "aggregation": "avg",
      "dataType": "percentage",
      "higherIsBetter": true,
      "targetValue": 95,
      "warningThreshold": 85,
      "criticalThreshold": 70
    },
    {
      "id": "mean-time-to-detection",
      "name": "Mean Time to Detection",
      "description": "Average time to detect issues after introduction",
      "unit": "hours",
      "aggregation": "avg",
      "dataType": "duration",
      "higherIsBetter": false,
      "targetValue": 4,
      "warningThreshold": 24,
      "criticalThreshold": 72
    },
    {
      "id": "result-variance",
      "name": "Result Variance",
      "description": "Variance in test results between runs",
      "unit": "percent",
      "aggregation": "avg",
      "dataType": "percentage",
      "higherIsBetter": false,
      "targetValue": 0,
      "warningThreshold": 5,
      "criticalThreshold": 10
    },
    {
      "id": "execution-time",
      "name": "Execution Time",
      "description": "Total time to execute quality checks",
      "unit": "seconds",
      "aggregation": "sum",
      "dataType": "duration",
      "higherIsBetter": false
    }
  ],
  "thresholds": [
    {
      "id": "quality-score-threshold",
      "metricId": "quality-score",
      "name": "Quality Score Gate",
      "mode": "absolute",
      "warning": 70,
      "critical": 60,
      "target": 80,
      "blocking": true
    },
    {
      "id": "automation-threshold",
      "metricId": "automation-percentage",
      "name": "Automation Coverage Gate",
      "mode": "percentage",
      "warning": 70,
      "critical": 50,
      "target": 90,
      "blocking": false
    },
    {
      "id": "detection-rate-threshold",
      "metricId": "defect-detection-rate",
      "name": "Defect Detection Gate",
      "mode": "percentage",
      "warning": 85,
      "critical": 70,
      "target": 95,
      "blocking": true
    }
  ],
  "metadata": {
    "createdAt": "2024-01-01T00:00:00Z",
    "updatedAt": "2024-11-19T00:00:00Z",
    "author": "Agentic QE Fleet",
    "applicableTo": ["*"],
    "status": "active",
    "changelog": [
      {
        "version": "1.0.0",
        "date": "2024-11-19T00:00:00Z",
        "description": "Initial release of default constitution",
        "author": "Constitution Schema Designer"
      }
    ]
  }
}
