## Agentic QE v3

This project uses **Agentic QE v3** - a Domain-Driven Quality Engineering platform with 13 bounded contexts, ReasoningBank learning, HNSW vector search, and Agent Teams coordination (ADR-064).

---

### ⚠️ CRITICAL POLICIES

#### Integrity Rule (ABSOLUTE)
- ❌ NO shortcuts, fake data, or false claims
- ✅ ALWAYS implement properly, verify before claiming success
- ✅ ALWAYS use real database queries for integration tests
- ✅ ALWAYS run actual tests, not assume they pass

**We value the quality we deliver to our users.**

#### Test Execution
- ❌ NEVER run `npm test` without `--run` flag (watch mode risk)
- ✅ Use: `npm test -- --run` for single test runs
- ✅ Use: `npm run test:unit`, `npm run test:integration` when available

#### Data Protection (ABSOLUTE — Data Loss = Unrecoverable)
- ❌ NEVER run `rm -f` on `.agentic-qe/` or `*.db` files without confirmation
- ❌ NEVER overwrite, replace, or recreate a database file — data inside is irreplaceable
- ❌ NEVER run DROP TABLE, DELETE FROM, or TRUNCATE on production/learning databases
- ❌ NEVER consolidate or migrate databases without first verifying row counts before AND after
- ❌ NEVER claim a sync/migration succeeded without querying the destination to verify row counts
- ✅ ALWAYS backup before database operations: `cp file.db file.db.bak-$(date +%s)`
- ✅ ALWAYS verify database integrity after any operation: `sqlite3 file.db "PRAGMA integrity_check; SELECT COUNT(*) FROM <main_table>;"`
- ✅ ALWAYS remove stale WAL/SHM files when restoring from backup: `rm -f file.db-wal file.db-shm`
- ✅ When fixing sync/migration code, test against a COPY of the database, never the original

#### Git Operations
- ❌ NEVER auto-commit/push without explicit user request
- ✅ ALWAYS wait for user confirmation before git operations

---

### Quick Reference

```bash
# Run tests
npm test -- --run

# Check quality
aqe quality assess

# Generate tests
aqe test generate <file>

# Coverage analysis
aqe coverage <path>
```

### MCP Server Tools

| Tool | Description |
|------|-------------|
| `fleet_init` | Initialize QE fleet with topology |
| `agent_spawn` | Spawn specialized QE agent |
| `test_generate_enhanced` | AI-powered test generation |
| `test_execute_parallel` | Parallel test execution with retry |
| `task_orchestrate` | Orchestrate multi-agent QE tasks |
| `coverage_analyze_sublinear` | O(log n) coverage analysis |
| `quality_assess` | Quality gate evaluation |
| `memory_store` / `memory_query` | Pattern storage with namespacing |

### Configuration

- **Enabled Domains**: test-generation, test-execution, coverage-analysis, quality-assessment, defect-intelligence, requirements-validation (+6 more)
- **Learning**: Enabled (transformer embeddings)
- **Max Concurrent Agents**: 15
- **Background Workers**: pattern-consolidator, routing-accuracy-monitor, coverage-gap-scanner, flaky-test-detector

### V3 QE Agents

V3 QE agents are in `.claude/agents/v3/`. Use with Task tool:

```javascript
Task({ prompt: "Generate tests", subagent_type: "qe-test-architect", run_in_background: true })
Task({ prompt: "Find coverage gaps", subagent_type: "qe-coverage-specialist", run_in_background: true })
Task({ prompt: "Security audit", subagent_type: "qe-security-scanner", run_in_background: true })
```

### Data Storage

- **Memory Backend**: `.agentic-qe/memory.db` (SQLite)
- **Configuration**: `.agentic-qe/config.yaml`

---
*Generated by AQE v3 init - 2026-02-03T14:28:43.516Z*
